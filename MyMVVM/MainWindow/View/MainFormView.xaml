<Window
    x:Class="MyMVVM.MainWindow.View.MainFormView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:MyMVVM.MainWindow.View"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="主窗体"
    Width="1600"
    Height="900"
    MouseDown="Window_MouseDown"
    ResizeMode="NoResize"
    Style="{DynamicResource WindowIoc}"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">

    <Window.Triggers>
        <EventTrigger RoutedEvent="ButtonBase.Click" SourceName="ButtonOpenMenu">
            <BeginStoryboard Storyboard="{DynamicResource MenuOpenStyle}" />
        </EventTrigger>
        <EventTrigger RoutedEvent="ButtonBase.Click" SourceName="ButtonCloseMenu">
            <BeginStoryboard Storyboard="{DynamicResource MenuCloseStyle}" />
        </EventTrigger>

    </Window.Triggers>

    <Border BorderThickness="1" Style="{DynamicResource DM-Main-Img}">
        <Grid x:Name="DMMainForm">
            <Grid.RowDefinitions>
                <RowDefinition Height="0.8*" />
                <RowDefinition Height="0.32*" />
                <RowDefinition Height="8*" />
            </Grid.RowDefinitions>

            <Viewbox Grid.Row="0">
                <WrapPanel Width="2200">

                    <Image
                        x:Name="LogoTitle1"
                        Width="150"
                        Height="90"
                        Margin="15,0,0,0"
                        HorizontalAlignment="Center"
                        Style="{DynamicResource DM-Logo-Img-1}"
                        Visibility="Collapsed" />

                    <Image
                        x:Name="LogoTitle2"
                        Width="150"
                        Height="90"
                        Margin="15,0,0,0"
                        HorizontalAlignment="Center"
                        Style="{DynamicResource DM-Logo-Img-2}" />

                    <StackPanel x:Name="LogoText" HorizontalAlignment="Left">
                        <TextBlock
                            Margin="10,22,0,0"
                            FontFamily="楷体"
                            FontSize="27"
                            FontWeight="Black"
                            Style="{DynamicResource DM-Logo-Font}"
                            Text="浙江达名科技有限公司" />
                        <TextBlock
                            Margin="10,0,0,0"
                            FontSize="15"
                            FontWeight="Black"
                            Style="{DynamicResource DM-Logo-Font}"
                            Text="Zhejiang Daming Technology Co., Ltd" />
                    </StackPanel>

                    <Canvas>
                        <!--  时间格式：0000-00-00 00:00:00  -->
                        <TextBlock
                            Name="TimeTextBlock1"
                            Canvas.Left="-150"
                            Canvas.Top="30"
                            FontSize="36"
                            FontWeight="Black"
                            Text="0000-00-00 00:00:00" />
                        <TextBlock
                            Name="TimeTextBlock2"
                            Canvas.Left="1050"
                            Canvas.Top="30"
                            FontSize="36"
                            FontWeight="Black"
                            Text="0000-00-00 00:00:00" />
                    </Canvas>

                    <Canvas>

                        <Border Canvas.Left="295" Style="{DynamicResource MainTitle}">
                            <Button
                                x:Name="EditableButton"
                                Height="80"
                                Background="Transparent"
                                BorderThickness="0"
                                Content="多媒体融合调度系统"
                                FontFamily="楷体"
                                FontSize="75"
                                FontWeight="Black"
                                MouseDoubleClick="EditableButton_MouseDoubleClick"
                                Style="{DynamicResource DM-Title-Text}" />
                        </Border>

                    </Canvas>

                    <Canvas>

                        <Button
                            x:Name="MaxButton"
                            Canvas.Left="1585"
                            Canvas.Top="8"
                            Height="40"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="MaxButton_Click">
                            <materialDesign:PackIcon
                                Width="35"
                                Height="35"
                                Kind="CropFree"
                                Style="{DynamicResource DM-Right-Close-Window}" />
                        </Button>

                        <Button
                            x:Name="quit"
                            Canvas.Left="1650"
                            Canvas.Top="8"
                            Height="40"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="quit_Click">
                            <materialDesign:PackIcon
                                Width="35"
                                Height="35"
                                Kind="Export"
                                Style="{DynamicResource DM-Right-Close-Window}" />
                        </Button>
                    </Canvas>

                </WrapPanel>
            </Viewbox>

            <Grid Grid.Row="1">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="127*" />
                    <ColumnDefinition Width="127*" />
                    <ColumnDefinition Width="127*" />
                    <ColumnDefinition Width="127*" />
                    <ColumnDefinition Width="150*" />
                    <ColumnDefinition Width="300*" />
                    <ColumnDefinition Width="340*" />
                    <ColumnDefinition Width="140*" />
                    <ColumnDefinition Width="140*" />
                </Grid.ColumnDefinitions>

                <Grid
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Margin="0,0,127,0">
                    <WrapPanel VerticalAlignment="Bottom">

                        <TextBlock>
                            <TextBlock.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    ShadowDepth="3"
                                    Color="Black" />
                            </TextBlock.Effect>
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,5,0,0"
                                Kind="CardAccountPhone"
                                Style="{DynamicResource DM-UserCdr-Icon}" />
                        </TextBlock>

                        <Button
                            VerticalAlignment="Bottom"
                            Click="Button_Click"
                            Style="{DynamicResource DM-Function-Button}">
                            <TextBlock Style="{DynamicResource DM-UserCdr-Text}" Text="通话记录" />
                        </Button>

                    </WrapPanel>
                </Grid>

                <Grid
                    Grid.Column="2"
                    Grid.ColumnSpan="2"
                    Margin="0,0,127,0">
                    <WrapPanel VerticalAlignment="Bottom">
                        <TextBlock>
                            <TextBlock.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    ShadowDepth="5"
                                    Color="Black" />
                            </TextBlock.Effect>
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,5,0,0"
                                Kind="PhoneMissed"
                                Style="{DynamicResource DM-MissCall-Icon}" />
                        </TextBlock>
                        <Button
                            VerticalAlignment="Bottom"
                            Click="Button_Click_1"
                            Style="{DynamicResource DM-Function-Button}">
                            <TextBlock Style="{DynamicResource DM-MissCall-Text}" Text="未接来电" />
                        </Button>
                    </WrapPanel>
                </Grid>

                <Grid
                    Grid.Column="3"
                    Grid.ColumnSpan="2"
                    Margin="0,0,127,0">
                    <WrapPanel VerticalAlignment="Bottom">
                        <TextBlock>
                            <TextBlock.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    ShadowDepth="5"
                                    Color="Black" />
                            </TextBlock.Effect>
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,5,0,0"
                                Kind="AnnouncementOutline"
                                Style="{DynamicResource DM-Broadcast-Icon}" />
                        </TextBlock>
                        <Button
                            VerticalAlignment="Bottom"
                            Click="Button_Click_2"
                            Style="{DynamicResource DM-Function-Button}">
                            <TextBlock Style="{DynamicResource DM-Broadcast-Text}" Text="广播记录" />
                        </Button>
                    </WrapPanel>
                </Grid>

                <Grid Grid.Column="4">
                    <WrapPanel VerticalAlignment="Bottom">
                        <TextBlock>
                            <TextBlock.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    ShadowDepth="5"
                                    Color="Black" />
                            </TextBlock.Effect>
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,5,0,0"
                                Kind="HeadSnowflake"
                                Style="{DynamicResource DM-Broadcast-Icon}" />
                        </TextBlock>
                        <Button
                            VerticalAlignment="Bottom"
                            Click="Button_Click_emotion_alarm"
                            Style="{DynamicResource DM-Function-Button}">
                            <TextBlock Style="{DynamicResource DM-Broadcast-Text}" Text="智能识别" />
                        </Button>
                        <TextBlock
                            x:Name="EmotionAlarmNumber"
                            FontSize="18"
                            FontWeight="Black">
                            <TextBlock.Foreground>
                                <SolidColorBrush x:Name="TextColorBrush1" Color="Red" />
                            </TextBlock.Foreground>
                            <TextBlock.Triggers>
                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                    <BeginStoryboard>
                                        <Storyboard RepeatBehavior="Forever">
                                            <ColorAnimationUsingKeyFrames
                                                Storyboard.TargetName="TextColorBrush1"
                                                Storyboard.TargetProperty="Color"
                                                Duration="0:0:0.8">
                                                <DiscreteColorKeyFrame KeyTime="0:0:0" Value="Red" />
                                                <DiscreteColorKeyFrame KeyTime="0:0:0.4" Value="Transparent" />
                                            </ColorAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </TextBlock.Triggers>
                        </TextBlock>
                    </WrapPanel>
                </Grid>

                <Grid Grid.Column="5" />

                <Border
                    Grid.Column="6"
                    Margin="10,0,10,0"
                    BorderThickness="3"
                    CornerRadius="3"
                    Style="{DynamicResource SIPUserStateBorder}">
                    <Border.Effect>
                        <DropShadowEffect
                            BlurRadius="10"
                            Opacity="1"
                            ShadowDepth="5"
                            Color="Black" />
                    </Border.Effect>
                    <Viewbox>
                        <WrapPanel Style="{DynamicResource DM-Satet-Box}">
                            <Ellipse Fill="#87CEFF" Style="{DynamicResource CommanndEli}" />
                            <TextBlock Style="{DynamicResource DM-Idle-State-Text}" Text="空闲" />
                            <Ellipse Fill="Yellow" Style="{DynamicResource CommanndEli}" />
                            <TextBlock Style="{DynamicResource DM-Ring-State-Text}" Text="振铃" />
                            <Ellipse Fill="#90EE90" Style="{DynamicResource CommanndEli}" />
                            <TextBlock Style="{DynamicResource DM-Call-State-Text}" Text="通话" />
                            <Ellipse Fill="#BEBEBE" Style="{DynamicResource CommanndEli}" />
                            <TextBlock Style="{DynamicResource DM-UnOnline-State-Text}" Text="离线" />
                            <Ellipse Fill="#2b2b30" Style="{DynamicResource CommanndEli}" />
                            <TextBlock Style="{DynamicResource DM-UnOnline-State-Text}" Text="故障" />
                            <Ellipse
                                Width="12"
                                Height="12"
                                Fill="Transparent" />
                        </WrapPanel>
                    </Viewbox>
                </Border>

                <Border Grid.Column="7">
                    <Button
                        x:Name="people"
                        Height="Auto"
                        Margin="10,0,10,0"
                        Click="Button_Click_3"
                        Content="有人值守"
                        Style="{DynamicResource DM-People}" />
                </Border>

                <Grid Grid.Column="8">
                    <Button
                        x:Name="HostName"
                        Height="Auto"
                        Margin="10,0,10,0"
                        Click="ShowPingNetworkWindow"
                        Content="主机"
                        Style="{DynamicResource DM-People}" />
                </Grid>

            </Grid>

            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="123*" />
                    <ColumnDefinition Width="466*" />
                    <ColumnDefinition Width="1009*" />
                </Grid.ColumnDefinitions>
                <Grid
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,0,466,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="12*" />
                        <RowDefinition Height="1.8*" />
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="1">
                        <Button
                            Height="65"
                            Margin="0,0,0,10"
                            Click="Button_Click_Setting"
                            Style="{DynamicResource TransparentButtonStyle}" />
                    </Grid>
                </Grid>


                <Grid
                    x:Name="GridMenu"
                    Grid.Column="0"
                    Width="70"
                    HorizontalAlignment="Left">
                    <StackPanel Margin="0,10,0,0">

                        <Grid>
                            <Button
                                x:Name="ButtonCloseMenu"
                                Width="70"
                                Height="70"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top"
                                Background="{x:Null}"
                                BorderBrush="{x:Null}"
                                Click="ButtonCloseMenu_Click"
                                Visibility="Collapsed">
                                <Image
                                    Width="42"
                                    Height="42"
                                    Source="/Common/Images/listdown.png" />
                            </Button>
                            <Button
                                x:Name="ButtonOpenMenu"
                                Width="70"
                                Height="70"
                                Margin="2,0,0,0"
                                Background="Transparent"
                                BorderThickness="0"
                                Click="ButtonOpenMenu_Click">
                                <Image
                                    Width="42"
                                    Height="42"
                                    Source="/Common/Images/list.png" />
                            </Button>
                        </Grid>

                        <ListView
                            x:Name="SideButtonListView"
                            FocusVisualStyle="{x:Null}"
                            Foreground="Transparent"
                            ItemsSource="{Binding SideButtonList}"
                            ScrollViewer.HorizontalScrollBarVisibility="Disabled">

                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                    <Setter Property="BorderThickness" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Button
                                        Width="120"
                                        Height="70"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Command="{Binding ShowUserControlCommand}"
                                        Style="{DynamicResource AsideMenuButton}">
                                        <Grid>

                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Border
                                                Grid.Column="0"
                                                Width="60"
                                                Height="50"
                                                HorizontalAlignment="Center">
                                                <Image
                                                    Width="30"
                                                    Height="30"
                                                    Source="{Binding Icon}" />
                                            </Border>
                                            <Border
                                                Grid.Column="1"
                                                Width="60"
                                                Height="50">
                                                <TextBlock
                                                    Padding="10,3,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    FontSize="16"
                                                    FontWeight="Black"
                                                    Style="{DynamicResource DM-SideMenu-Text}"
                                                    Text="{Binding Name}" />
                                            </Border>

                                        </Grid>
                                    </Button>
                                </DataTemplate>
                            </ListView.ItemTemplate>

                        </ListView>


                    </StackPanel>
                </Grid>

                <Grid Grid.Column="1" Grid.ColumnSpan="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="95*" />
                        <ColumnDefinition Width="62*" />
                        <ColumnDefinition Width="1320*" />
                    </Grid.ColumnDefinitions>
                    <Viewbox Grid.ColumnSpan="3">
                        <ContentControl x:Name="MainContentView" />
                    </Viewbox>
                </Grid>
            </Grid>
        </Grid>
    </Border>

</Window>