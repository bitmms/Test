<Window
    x:Class="MyMVVM.WIFI.View.ScanWIFIView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:MyMVVM.WIFI.View"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:rubyer="http://rubyer.io/winfx/xaml/toolkit"
    Title="ScanWIFIView"
    Width="600"
    AllowsTransparency="True"
    Background="Transparent"
    Icon="/Common/Images/logo.ico"
    MouseDown="Window_MouseDown"
    ResizeMode="NoResize"
    SizeToContent="Height"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>

    <Border
        Padding="40,0,40,0"
        BorderThickness="0"
        Style="{DynamicResource BroadcastFromStyle}">

        <Grid>

            <Grid.RowDefinitions>
                <RowDefinition Height="80" />
                <RowDefinition Height="60" />
                <RowDefinition Height="auto" />
                <RowDefinition Height="100" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontSize="24"
                    Text="扫描添加基站" />
            </Grid>

            <Grid Grid.Row="1">

                <Grid.Resources>
                    <ResourceDictionary>
                        <ResourceDictionary.MergedDictionaries>
                            <ResourceDictionary Source="pack://application:,,,/Rubyer;component/Themes/Generic.xaml" />
                        </ResourceDictionary.MergedDictionaries>
                        <!--  文本框  -->
                        <Style
                            x:Key="DMTextBox"
                            BasedOn="{StaticResource RubyerTextBox}"
                            TargetType="{x:Type TextBox}">
                            <!--  字体颜色  -->
                            <Setter Property="Foreground" Value="#000000" />
                            <!--  透明背景色  -->
                            <Setter Property="Background" Value="Transparent" />
                            <!--  边框的默认颜色  -->
                            <Setter Property="BorderBrush" Value="#2196f3" />
                            <!--  鼠标移入后边框颜色  -->
                            <Setter Property="rubyer:ControlHelper.MouseOverBrush" Value="#2196f3" />
                            <!--  选择列表的颜色  -->
                            <Setter Property="rubyer:ControlHelper.FocusedBrush" Value="#2196f3" />
                            <!--  鼠标点击后，边框和选择列表的颜色  -->
                            <Setter Property="rubyer:ControlHelper.FocusBorderBrush" Value="#2196f3" />
                        </Style>
                    </ResourceDictionary>
                </Grid.Resources>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>

                <TextBox
                    Grid.Column="0"
                    Width="300"
                    Margin="0,10,0,10"
                    Padding="0"
                    rubyer:InputBoxHelper.Watermark="{Binding RuleDes}"
                    Style="{StaticResource LightTextBox}"
                    Text="{Binding WIFIFilterRule}" />
                <Button
                    Grid.Column="1"
                    Width="120"
                    Margin="0,10,0,10"
                    Command="{Binding FilterWIFICommand}"
                    Content="过滤基站"
                    IsDefault="True" />

            </Grid>

            <DataGrid
                Grid.Row="2"
                MaxHeight="240"
                AutoGenerateColumns="False"
                Background="Transparent"
                CanUserResizeColumns="False"
                ColumnHeaderHeight="50"
                ColumnHeaderStyle="{DynamicResource CenteredHeaderStyle}"
                FontSize="16"
                GridLinesVisibility="None"
                IsReadOnly="True"
                ItemsSource="{Binding WIFIDateList}"
                RowHeight="40">
                <DataGrid.Columns>

                    <DataGridTemplateColumn Width="0.5*" Header="名称">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{Binding WIFIName}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Width="1.2*" Header="IP地址">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{Binding WIFIIP}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Width="1.2*" Header="MAC地址">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{Binding WIFIMAC}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>

            <Grid Grid.Row="3">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.5*" />
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="1*" />
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="0.5*" />
                </Grid.ColumnDefinitions>

                <Button
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    Background="#f0f0f0"
                    BorderThickness="0"
                    Command="{Binding CancelButtonCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                    Content="取消添加"
                    Foreground="#000000" />

                <Button
                    Grid.Column="3"
                    HorizontalAlignment="Center"
                    BorderThickness="0"
                    Command="{Binding ConfirmButtonCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                    Content="确定添加" />

            </Grid>

        </Grid>

    </Border>

</Window>